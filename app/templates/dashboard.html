<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Digital Marketing Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <h1>Digital Marketing Dashboard</h1>
    <p>Meta & Google Ads Performance</p>
  </header>

  <!-- KPI Section -->
  <section class="kpi-grid">
    <div class="kpi-card">
      <span class="kpi-label">Total Spend</span>
      <span class="kpi-value">RM 12,450</span>
    </div>
    <div class="kpi-card">
      <span class="kpi-label">Total Leads</span>
      <span class="kpi-value">328</span>
    </div>
    <div class="kpi-card">
      <span class="kpi-label">Avg CPL</span>
      <span class="kpi-value">RM 37.95</span>
    </div>
    <div class="kpi-card">
      <span class="kpi-label">Conversions</span>
      <span class="kpi-value">96</span>
    </div>
  </section>

  <!-- Filters -->
  <section class="filters">
    <select>
      <option>Date Range</option>
      <option>Last 7 Days</option>
      <option>Last 30 Days</option>
    </select>

    <select>
      <option>Platform</option>
      <option>Meta</option>
      <option>Google</option>
    </select>

    <select>
      <option>Campaign</option>
    </select>
  </section>

  <!-- Charts -->
  <section class="charts">
  <div class="chart-card">
    <canvas id="spendLeadsChart"></canvas>
  </div>

  <div class="chart-card">
    <canvas id="cplChart"></canvas>
  </div>
</section>


  <!-- Table -->
  <section class="table-section">
    <h2>Campaign Performance</h2>

    <table>
      <thead>
        <tr>
          <th>Campaign</th>
          <th>Platform</th>
          <th>Spend</th>
          <th>Leads</th>
          <th>CPL</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Foundation in Business</td>
          <td>Google</td>
          <td>RM 3,200</td>
          <td>82</td>
          <td>RM 39.02</td>
        </tr>
        <tr>
          <td>Foundation in Science</td>
          <td>Meta</td>
          <td>RM 2,100</td>
          <td>54</td>
          <td>RM 38.89</td>
        </tr>
      </tbody>
    </table>
  </section>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // Dummy data (will come from Flask later)
  const labels = ["Week 1", "Week 2", "Week 3", "Week 4"];

  // Spend vs Leads
  new Chart(document.getElementById("spendLeadsChart"), {
    type: "line",
    data: {
      labels,
      datasets: [
        {
          label: "Spend (RM)",
          data: [2800, 3100, 2900, 3650],
          borderWidth: 2,
          tension: 0.3
        },
        {
          label: "Leads",
          data: [72, 84, 76, 96],
          borderWidth: 2,
          tension: 0.3
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: "bottom"
        }
      }
    }
  });

  // CPL over time
  new Chart(document.getElementById("cplChart"), {
    type: "line",
    data: {
      labels,
      datasets: [
        {
          label: "CPL (RM)",
          data: [38, 37, 39, 36],
          borderWidth: 2,
          tension: 0.3
        }
      ]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: "bottom"
        }
      }
    }
  });
</script>

</body>
</html>
